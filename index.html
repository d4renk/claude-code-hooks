<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Hooks å®Œæ•´æŒ‡å—</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --bg-color: #f8fafc;
            --surface-color: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --code-bg: #1e1e1e;
            --sidebar-width: 280px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-color);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Layout */
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            min-height: calc(100vh - 200px);
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--surface-color);
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .toc {
            padding: 0 1.5rem;
        }

        .toc h3 {
            color: var(--primary-color);
            font-size: 1.1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin-bottom: 0.5rem;
        }

        .toc a {
            text-decoration: none;
            color: var(--text-secondary);
            display: block;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .toc a:hover {
            background-color: var(--bg-color);
            color: var(--primary-color);
            transform: translateX(4px);
        }

        .toc li li a {
            padding-left: 2rem;
            font-size: 0.85rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            max-width: calc(100% - var(--sidebar-width));
        }

        .section {
            background: var(--surface-color);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        h2 {
            font-size: 1.8rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        h3 {
            font-size: 1.4rem;
            color: var(--secondary-color);
            margin-top: 2rem;
        }

        h4 {
            font-size: 1.2rem;
            margin-top: 1.5rem;
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        /* Code Blocks */
        pre {
            background: var(--code-bg) !important;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
            border: 1px solid #333;
        }

        code {
            background: #f1f5f9;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            color: var(--error-color);
            font-family: 'Fira Code', 'Consolas', monospace;
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: var(--surface-color);
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-color);
            font-weight: 600;
            color: var(--text-primary);
        }

        tr:hover {
            background: var(--bg-color);
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Alert Boxes */
        .warning {
            background: linear-gradient(90deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid var(--warning-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .warning::before {
            content: "âš ï¸";
            font-size: 1.5rem;
            position: absolute;
            top: 1rem;
            left: 1rem;
        }

        .warning h4 {
            color: #92400e;
            margin-left: 2rem;
            margin-bottom: 0.5rem;
        }

        .warning p {
            color: #92400e;
            margin-left: 2rem;
            margin-bottom: 0;
        }

        /* Tags */
        .tag {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
            margin: 0.2rem;
        }

        .tag.success {
            background: var(--success-color);
        }

        .tag.warning {
            background: var(--warning-color);
        }

        .tag.error {
            background: var(--error-color);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .main-content {
                max-width: 100%;
                padding: 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .section {
                padding: 1.5rem;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Progress indicator */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            z-index: 1000;
            transition: width 0.3s ease;
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }

        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.4);
        }

        /* Icons */
        .icon {
            margin-right: 0.5rem;
        }

        /* Step indicators */
        .step-indicator {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.5rem;
        }

        /* Feature cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    
    <header class="header">
        <h1><i class="fas fa-code icon"></i>Claude Code Hooks å®Œæ•´æŒ‡å—</h1>
        <p>é€éè¨»å†Š shell å‘½ä»¤ï¼Œå®¢è£½åŒ–ä¸¦æ“´å±•æ‚¨çš„ Claude Code å·¥ä½œæµç¨‹</p>
    </header>

    <div class="container">
        <nav class="sidebar">
            <div class="toc">
                <h3><i class="fas fa-list icon"></i>ç›®éŒ„</h3>
                <ul>
                    <li><a href="#overview">ğŸ“‹ ç¸½è¦½</a>
                        <ul>
                            <li><a href="#what-is-hooks">ä»€éº¼æ˜¯ Hooksï¼Ÿ</a></li>
                            <li><a href="#why-hooks">ç‚ºä»€éº¼è¦ä½¿ç”¨ Hooksï¼Ÿ</a></li>
                        </ul>
                    </li>
                    <li><a href="#tutorial">ğŸš€ å…¥é–€æ•™å­¸</a>
                        <ul>
                            <li><a href="#step1">æ­¥é©Ÿ 1ï¼šç¬¬ä¸€å€‹ Hook</a></li>
                            <li><a href="#step2">æ­¥é©Ÿ 2ï¼šä½¿ç”¨åŒ¹é…å™¨</a></li>
                            <li><a href="#step3">æ­¥é©Ÿ 3ï¼šèˆ‡ Claude äº’å‹•</a></li>
                        </ul>
                    </li>
                    <li><a href="#concepts">ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ</a>
                        <ul>
                            <li><a href="#lifecycle">äº‹ä»¶ç”Ÿå‘½é€±æœŸ</a></li>
                            <li><a href="#input">Hook è¼¸å…¥</a></li>
                            <li><a href="#output">Hook è¼¸å‡º</a></li>
                            <li><a href="#config">è¨­å®šæª”ä½ç½®</a></li>
                        </ul>
                    </li>
                    <li><a href="#examples">ğŸ’¡ å¯¦ç”¨ç¯„ä¾‹åº«</a></li>
                    <li><a href="#execution">âš™ï¸ åŸ·è¡Œç´°ç¯€</a></li>
                    <li><a href="#advanced">ğŸ”§ é€²éšåŠŸèƒ½</a></li>
                    <li><a href="#security">ğŸ›¡ï¸ å®‰å…¨è€ƒé‡</a></li>
                    <li><a href="#troubleshooting">ğŸ” ç–‘é›£æ’è§£</a></li>
                    <li><a href="#best-practices">âœ¨ æœ€ä½³å¯¦è¸</a></li>
                </ul>
            </div>
        </nav>

        <main class="main-content">
            <section id="overview" class="section">
                <h2><i class="fas fa-info-circle icon"></i>ç¸½è¦½</h2>
                
                <h3 id="what-is-hooks">ä»€éº¼æ˜¯ Hooksï¼Ÿ</h3>
                <p>Hooks æ˜¯æ‚¨å®šç¾©çš„ shell å‘½ä»¤ï¼Œå®ƒå€‘æœƒåœ¨ Claude Code ç”Ÿå‘½é€±æœŸçš„ç‰¹å®šæ™‚é–“é»è‡ªå‹•åŸ·è¡Œã€‚æ‚¨å¯ä»¥æŠŠå®ƒå€‘æƒ³åƒæˆæ˜¯ç‚ºæ‚¨çš„ AI ç¨‹å¼è¨­è¨ˆå¤¥ä¼´è¨­å®šçš„ã€Œè‡ªå‹•åŒ–è¦å‰‡ã€æˆ–ã€Œè§¸ç™¼å™¨ã€ã€‚</p>
                <p>èˆ‡å…¶åœ¨æç¤ºä¸­åè¦†å‘Šè¨´ Claude è¦éµå®ˆæŸäº›è¦å‰‡ï¼Œä¸å¦‚å°‡é€™äº›è¦å‰‡ç·¨ç¢¼ç‚º Hooksï¼Œä½¿å…¶æˆç‚ºæ‚¨é–‹ç™¼ç’°å¢ƒä¸­å¯é ä¸”è‡ªå‹•åŒ–çš„ä¸€éƒ¨åˆ†ã€‚</p>

                <h3 id="why-hooks">ç‚ºä»€éº¼è¦ä½¿ç”¨ Hooksï¼Ÿ</h3>
                <p>Hooks è®“æ‚¨èƒ½å¤ å° Claude Code çš„è¡Œç‚ºé€²è¡Œç¢ºå®šæ€§çš„æ§åˆ¶ï¼Œç¢ºä¿æŸäº›å‹•ä½œç¸½æ˜¯æœƒç™¼ç”Ÿã€‚å¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒåŒ…æ‹¬ï¼š</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">âœï¸</div>
                        <h4>è‡ªå‹•æ ¼å¼åŒ–</h4>
                        <p>åœ¨ Claude æ¯æ¬¡ç·¨è¼¯å®Œç•¢å¾Œï¼Œè‡ªå‹•å° .ts æª”æ¡ˆåŸ·è¡Œ prettierï¼Œæˆ–å° .go æª”æ¡ˆåŸ·è¡Œ gofmtã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ””</div>
                        <h4>è‡ªè¨‚é€šçŸ¥</h4>
                        <p>ç•¶ Claude ç­‰å¾…æ‚¨çš„æŒ‡ä»¤æˆ–åŸ·è¡Œæ¬Šé™æ™‚ï¼Œé€éç³»çµ±é€šçŸ¥æˆ–è²éŸ³æé†’æ‚¨ã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ›¡ï¸</div>
                        <h4>å®‰å…¨é˜²è­·</h4>
                        <p>é˜»æ­¢ Claude åŸ·è¡Œå±éšªçš„å‘½ä»¤ï¼ˆä¾‹å¦‚ rm -rfï¼‰æˆ–ä¿®æ”¹ç”Ÿç”¢ç’°å¢ƒçš„è¨­å®šæª”ã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>åˆè¦æ€§è¨˜éŒ„</h4>
                        <p>è¿½è¹¤æ‰€æœ‰ç”± Claude åŸ·è¡Œçš„ shell å‘½ä»¤ï¼Œä»¥æ»¿è¶³ç¨½æ ¸æˆ–é™¤éŒ¯éœ€æ±‚ã€‚</p>
                    </div>
                </div>
            </section>

            <section id="tutorial" class="section">
                <h2><i class="fas fa-graduation-cap icon"></i>å…¥é–€æ•™å­¸</h2>
                <p>æœ¬æ•™å­¸å°‡å¼•å°æ‚¨å»ºç«‹ä¸‰å€‹ Hooksï¼Œå¾ç°¡å–®åˆ°è¤‡é›œï¼Œé€æ­¥æŒæ¡æ ¸å¿ƒæ¦‚å¿µã€‚</p>

                <h3 id="step1"><span class="step-indicator">1</span>æ‚¨çš„ç¬¬ä¸€å€‹ Hook - æª”æ¡ˆè®Šæ›´æ—¥èªŒ</h3>
                <p>æˆ‘å€‘çš„ç¬¬ä¸€å€‹ Hook éå¸¸ç°¡å–®ï¼šæ¯ç•¶ Claude å„²å­˜ä¸€å€‹æª”æ¡ˆæ™‚ï¼Œæˆ‘å€‘å°±åœ¨ä¸€å€‹æ—¥èªŒæª”ä¸­è¨˜éŒ„ä¸‹ä¾†ã€‚é€™å€‹ç¯„ä¾‹ä¸éœ€è¦ä»»ä½•å¤–éƒ¨å·¥å…·ã€‚</p>
                
                <ol>
                    <li>åœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œ <code>/hooks</code> å‘½ä»¤ï¼Œæ‰“é–‹ Hooks è¨­å®šä»‹é¢ã€‚</li>
                    <li>å¾äº‹ä»¶åˆ—è¡¨ä¸­é¸æ“‡ <code>PostToolUse</code>ã€‚é€™å€‹äº‹ä»¶æœƒåœ¨ Claude æˆåŠŸåŸ·è¡Œå·¥å…·<strong>ä¹‹å¾Œ</strong>è§¸ç™¼ã€‚</li>
                    <li>é¸æ“‡ <code>+ Add new matcherâ€¦</code>ï¼Œè¼¸å…¥ <code>Write|Edit|MultiEdit</code> ä¾†åŒ¹é…æª”æ¡ˆæ“ä½œå·¥å…·ã€‚</li>
                    <li>é¸æ“‡ <code>+ Add new hookâ€¦</code>ï¼Œç„¶å¾Œè¼¸å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li>
                </ol>

                <pre><code class="language-bash">echo "Claude edited a file at $(date)" >> ~/.claude/file-edit-log.txt</code></pre>

                <ol start="5">
                    <li>æŒ‰ <code>Enter</code> å„²å­˜ Hookã€‚ç³»çµ±æœƒè©¢å•æ‚¨å„²å­˜ä½ç½®ï¼Œé¸æ“‡ <code>User settings</code>ï¼ˆä½¿ç”¨è€…è¨­å®šï¼‰ï¼Œé€™æ¨£é€™å€‹ Hook å°±æœƒåœ¨æ‚¨æ‰€æœ‰çš„å°ˆæ¡ˆä¸­ç”Ÿæ•ˆã€‚</li>
                    <li>æŒ‰ <code>Esc</code> é€€å‡ºè¨­å®šä»‹é¢ã€‚</li>
                </ol>

                <div class="warning">
                    <h4>é©—è­‰ä¸€ä¸‹</h4>
                    <p>ç¾åœ¨ï¼Œè«‹ Claude éš¨æ„ä¿®æ”¹æ‚¨å°ˆæ¡ˆä¸­çš„ä»»ä½•ä¸€å€‹æª”æ¡ˆã€‚å®Œæˆå¾Œï¼Œæª¢æŸ¥æ—¥èªŒæª”çš„å…§å®¹ï¼š</p>
                    <pre><code class="language-bash">cat ~/.claude/file-edit-log.txt</code></pre>
                    <p>æ‚¨æ‡‰è©²æœƒçœ‹åˆ°é¡ä¼¼ "Claude edited a file at [æ—¥æœŸæ™‚é–“]" çš„è¨Šæ¯ã€‚æ­å–œï¼Œæ‚¨å·²ç¶“æˆåŠŸå»ºç«‹äº†ç¬¬ä¸€å€‹ Hookï¼</p>
                </div>

                <h3 id="step2"><span class="step-indicator">2</span>åŠ å…¥æ¢ä»¶ - ä½¿ç”¨åŒ¹é…å™¨</h3>
                <p>ä¸Šä¸€å€‹ Hook æœƒåœ¨<strong>ä»»ä½•</strong>æª”æ¡ˆè¢«ç·¨è¼¯å¾Œè§¸ç™¼ã€‚å¦‚æœæˆ‘å€‘åªæƒ³åœ¨ç‰¹å®šå·¥å…·è¢«ä½¿ç”¨æ™‚è§¸ç™¼å‘¢ï¼Ÿé€™æ™‚å°±éœ€è¦ä½¿ç”¨ã€ŒåŒ¹é…å™¨ã€ã€‚</p>

                <ol>
                    <li>å†æ¬¡åŸ·è¡Œ <code>/hooks</code>ï¼Œé¸æ“‡ <code>PostToolUse</code> äº‹ä»¶ã€‚</li>
                    <li>é¸æ“‡ <code>+ Add new matcherâ€¦</code>ï¼Œè¼¸å…¥ <code>Bash</code>ã€‚é€™æ¨£ Hook å°±åªæœƒåœ¨ Claude åŸ·è¡Œ shell å‘½ä»¤å¾Œè§¸ç™¼ã€‚</li>
                    <li>æ–°å¢ä¸€å€‹ Hook å‘½ä»¤ï¼š</li>
                </ol>

                <pre><code class="language-bash">echo "Claude ran a bash command at $(date)" >> ~/.claude/bash-log.txt</code></pre>

                <h3 id="step3"><span class="step-indicator">3</span>èˆ‡ Claude äº’å‹• - è¨˜éŒ„åŸ·è¡Œçš„å‘½ä»¤</h3>
                <p>ç¾åœ¨ï¼Œæˆ‘å€‘ä¾†æŒ‘æˆ°ä¸€å€‹æ›´é€²éšçš„ Hookï¼šè¨˜éŒ„ Claude å˜—è©¦åŸ·è¡Œçš„æ‰€æœ‰ shell å‘½ä»¤è©³ç´°è³‡è¨Šã€‚é€™å€‹ Hook æœƒè®€å– Claude å‚³éçš„è³‡æ–™ï¼Œä¸¦éœ€è¦ <code>jq</code> å·¥å…·ä¾†è§£æ JSONã€‚</p>

                <div class="warning">
                    <h4>å…ˆæ±ºæ¢ä»¶</h4>
                    <p>è«‹ç¢ºä¿æ‚¨å·²å®‰è£ <code>jq</code>ã€‚å¦‚æœæ²’æœ‰ï¼Œè«‹ä½¿ç”¨æ‚¨çš„å¥—ä»¶ç®¡ç†å™¨å®‰è£ï¼š</p>
                    <ul>
                        <li>macOS: <code>brew install jq</code></li>
                        <li>Ubuntu/Debian: <code>sudo apt-get install jq</code></li>
                        <li>Windows: ä¸‹è¼‰è‡ª https://stedolan.github.io/jq/</li>
                    </ul>
                </div>

                <ol>
                    <li>åŸ·è¡Œ <code>/hooks</code>ï¼Œé€™æ¬¡é¸æ“‡ <code>PreToolUse</code> äº‹ä»¶ã€‚é€™å€‹äº‹ä»¶åœ¨ Claude <strong>æº–å‚™</strong>åŸ·è¡Œä¸€å€‹å·¥å…·ï¼ˆå¦‚ <code>bash</code> å‘½ä»¤ï¼‰<strong>ä¹‹å‰</strong>è§¸ç™¼ã€‚</li>
                    <li>ç‚ºé€™å€‹ Hook æ–°å¢ä¸€å€‹åŒ¹é…å™¨ï¼Œè¼¸å…¥ <code>Bash</code>ï¼Œé€™æ¨£å®ƒå°±åªæœƒç›£æ§ shell å‘½ä»¤ã€‚</li>
                    <li>é¸æ“‡ <code>+ Add new hookâ€¦</code> ä¸¦è¼¸å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li>
                </ol>

                <pre><code class="language-bash">jq -r '"COMMAND: \(.tool_input.command) | DESCRIPTION: \(.tool_input.description // "None")"' >> ~/.claude/bash-command-log.txt</code></pre>

                <p>é€™å€‹å‘½ä»¤æœƒå¾å‚³å…¥çš„ JSON è³‡æ–™ä¸­æå– <code>command</code> å’Œ <code>description</code> æ¬„ä½ï¼Œä¸¦å°‡å…¶æ ¼å¼åŒ–å¾Œå¯«å…¥æ—¥èªŒæª”ã€‚</p>
            </section>

            <section id="concepts" class="section">
                <h2><i class="fas fa-cogs icon"></i>æ ¸å¿ƒæ¦‚å¿µ</h2>

                <h3 id="lifecycle">Hook äº‹ä»¶ç”Ÿå‘½é€±æœŸ</h3>
                <p>Hooks å¯ä»¥åœ¨ Claude Code ç”Ÿå‘½é€±æœŸçš„å¤šå€‹æ™‚é–“é»è§¸ç™¼ã€‚ä»¥ä¸‹æ˜¯ä¸»è¦çš„äº‹ä»¶é¡å‹ï¼š</p>

                <table>
                    <thead>
                        <tr>
                            <th>äº‹ä»¶åç¨±</th>
                            <th>è§¸ç™¼æ™‚æ©Ÿ</th>
                            <th>å¸¸è¦‹ç”¨é€”</th>
                            <th>å¯é˜»æ­¢æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>UserPromptSubmit</code></td>
                            <td>ä½¿ç”¨è€…æäº¤æç¤ºå¾Œï¼ŒClaude è™•ç†<strong>ä¹‹å‰</strong></td>
                            <td>é©—è­‰æç¤ºã€æ ¹æ“šæç¤ºå…§å®¹æ³¨å…¥é¡å¤–ä¸Šä¸‹æ–‡</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>PreToolUse</code></td>
                            <td>åœ¨å·¥å…·ï¼ˆå¦‚ <code>Bash</code>ï¼‰è¢«åŸ·è¡Œ<strong>ä¹‹å‰</strong></td>
                            <td>é˜»æ­¢å±éšªå‘½ä»¤ã€è¨˜éŒ„æ„åœ–ã€ä¿®æ”¹å‘½ä»¤</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>PostToolUse</code></td>
                            <td>åœ¨å·¥å…·åŸ·è¡Œ<strong>ä¹‹å¾Œ</strong></td>
                            <td>è¨˜éŒ„åŸ·è¡Œçµæœã€åŸºæ–¼çµæœè§¸ç™¼ä¸‹ä¸€æ­¥</td>
                            <td><span class="tag error">âŒ å¦</span></td>
                        </tr>
                        <tr>
                            <td><code>Notification</code></td>
                            <td>ç•¶éœ€è¦ç™¼é€é€šçŸ¥æ™‚</td>
                            <td>è‡ªè¨‚é€šçŸ¥æ–¹å¼ã€è²éŸ³æé†’</td>
                            <td><span class="tag error">âŒ å¦</span></td>
                        </tr>
                        <tr>
                            <td><code>Stop</code></td>
                            <td>ç•¶ Claude å®Œæˆä»»å‹™æˆ–é‡åˆ°éŒ¯èª¤æ™‚</td>
                            <td>æ¸…ç†å·¥ä½œã€å¾ŒçºŒè™•ç†</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>SubagentStop</code></td>
                            <td>ç•¶å­ä»£ç†ï¼ˆTask å·¥å…·ï¼‰å®Œæˆæ™‚</td>
                            <td>é‡å°å­ä»»å‹™çš„å¾ŒçºŒè™•ç†</td>
                            <td><span class="tag success">âœ… æ˜¯</span></td>
                        </tr>
                        <tr>
                            <td><code>PreCompact</code></td>
                            <td>åœ¨ Claude åŸ·è¡Œä¸Šä¸‹æ–‡å£“ç¸®<strong>ä¹‹å‰</strong></td>
                            <td>æ ¹æ“šå£“ç¸®é¡å‹åŸ·è¡Œä¸åŒæ“ä½œã€å‚™ä»½é‡è¦ä¸Šä¸‹æ–‡</td>
                            <td><span class="tag error">âŒ å¦</span></td>
                        </tr>
                    </tbody>
                </table>

                <h3 id="input">Hook çš„è¼¸å…¥ (stdin)</h3>
                <p>æ¯å€‹ Hook åœ¨åŸ·è¡Œæ™‚ï¼Œéƒ½æœƒé€éæ¨™æº–è¼¸å…¥ï¼ˆ<code>stdin</code>ï¼‰æ¥æ”¶ä¸€å€‹åŒ…å«ä¸Šä¸‹æ–‡è³‡è¨Šçš„ JSON ç‰©ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>jq</code> æˆ–å…¶ä»–å·¥å…·ä¾†è§£æå®ƒã€‚</p>

                <h4>é€šç”¨æ¬„ä½</h4>
                <pre><code class="language-json">{
  "session_id": "string",
  "transcript_path": "string", // å°è©±è¨˜éŒ„æª”è·¯å¾‘
  "cwd": "string",             // Hook è¢«èª¿ç”¨æ™‚çš„ç•¶å‰å·¥ä½œç›®éŒ„
  "hook_event_name": "string"  // è§¸ç™¼çš„ Hook äº‹ä»¶åç¨±
}</code></pre>

                <h4>PreToolUse çš„è¼¸å…¥ç¯„ä¾‹</h4>
                <pre><code class="language-json">{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../session.jsonl",
  "cwd": "/path/to/project",
  "hook_event_name": "PreToolUse",
  "tool_name": "Bash",
  "tool_input": {
    "command": "ls -a",
    "description": "List all files, including hidden ones."
  }
}</code></pre>
            </section>

            <section id="examples" class="section">
                <h2><i class="fas fa-lightbulb icon"></i>å¯¦ç”¨ç¯„ä¾‹åº«</h2>
                <p>é€™è£¡æœ‰ä¸€äº›å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ç¯„ä¾‹ï¼Œå¹«åŠ©æ‚¨å¿«é€Ÿæå‡æ•ˆç‡ã€‚</p>

                <h3>1. ç¨‹å¼ç¢¼è‡ªå‹•æ ¼å¼åŒ–</h3>
                <h4>TypeScript/JavaScript (Prettier)</h4>
                <p>åœ¨ Claude æ¯æ¬¡ä¿®æ”¹å®Œæª”æ¡ˆå¾Œï¼Œè‡ªå‹•åŸ·è¡Œ Prettier æ ¼å¼åŒ–ã€‚</p>
                
                <p><strong>è¨­å®š:</strong></p>
                <ul>
                    <li><strong>äº‹ä»¶</strong>: <code>PostToolUse</code></li>
                    <li><strong>åŒ¹é…å™¨</strong>: <code>Edit|MultiEdit|Write</code></li>
                    <li><strong>Hook å‘½ä»¤</strong>:</li>
                </ul>
                
                <pre><code class="language-bash"># æª¢æŸ¥æ˜¯å¦ç‚º JS/TS æª”æ¡ˆä¸¦åŸ·è¡Œ prettier
file_path=$(jq -r '.tool_input.file_path // ""')
if [[ "$file_path" =~ \.(js|jsx|ts|tsx)$ ]] && [[ -f "$file_path" ]] && [[ -f "package.json" ]]; then
    npx --no-install prettier --write "$file_path"
    echo "âœ¨ å·²è‡ªå‹•æ ¼å¼åŒ–æª”æ¡ˆ: $file_path"
fi</code></pre>

                <h3>2. å®‰å…¨é˜²è­·ç¯„ä¾‹</h3>
                <h4>é˜²æ­¢å±éšªå‘½ä»¤åŸ·è¡Œ</h4>
                <p>é˜»æ­¢ Claude åŸ·è¡Œå¯èƒ½å±éšªçš„å‘½ä»¤ã€‚</p>

                <pre><code class="language-bash">command=$(jq -r '.tool_input.command // ""')

# æª¢æŸ¥å±éšªå‘½ä»¤æ¨¡å¼
dangerous_patterns=("rm -rf" "sudo rm" "dd if=" "mkfs" "fdisk" "> /dev/")

for pattern in "${dangerous_patterns[@]}"; do
    if [[ "$command" == *"$pattern"* ]]; then
        # ä½¿ç”¨é€€å‡ºç¢¼ 2 ä¾†é˜»æ“‹æ“ä½œï¼Œä¸¦å°‡ stderr çš„å…§å®¹å‚³éçµ¦ Claude
        echo "ğŸš« å®‰å…¨è­¦å‘Š: å·²é˜»æ­¢æ½›åœ¨å±éšªå‘½ä»¤: $command" >&2
        echo "ğŸ’¡ å»ºè­°: è«‹ä½¿ç”¨æ›´å®‰å…¨çš„æ›¿ä»£æ–¹æ¡ˆæˆ–æ˜ç¢ºæŒ‡å®šæª”æ¡ˆ" >&2
        exit 2
    fi
done

echo "âœ… å‘½ä»¤å®‰å…¨æª¢æŸ¥é€šé: $command"</code></pre>
            </section>

            <section id="execution" class="section">
                <h2><i class="fas fa-play-circle icon"></i>Hook åŸ·è¡Œç´°ç¯€</h2>

                <h3>åŸ·è¡Œç’°å¢ƒèˆ‡é™åˆ¶</h3>
                <ul>
                    <li><strong>åŸ·è¡Œè¶…æ™‚</strong>: é è¨­ 60 ç§’åŸ·è¡Œé™åˆ¶ï¼Œå¯é‡å°å€‹åˆ¥å‘½ä»¤è¨­å®š <code>timeout</code> åƒæ•¸</li>
                    <li><strong>ä¸¦è¡ŒåŸ·è¡Œ</strong>: æ‰€æœ‰åŒ¹é…çš„ Hooks æœƒä¸¦è¡ŒåŸ·è¡Œ</li>
                    <li><strong>åŸ·è¡Œç’°å¢ƒ</strong>: åœ¨ç•¶å‰ç›®éŒ„ä¸­åŸ·è¡Œï¼Œä½¿ç”¨ Claude Code çš„ç’°å¢ƒè®Šæ•¸</li>
                    <li><strong>è¼¸å…¥æ–¹å¼</strong>: é€é stdin æ¥æ”¶ JSON è³‡æ–™</li>
                </ul>

                <h3>å¸¸è¦‹å·¥å…·åŒ¹é…å™¨</h3>
                <p>ä»¥ä¸‹æ˜¯å¯ä»¥åœ¨ <code>PreToolUse</code> å’Œ <code>PostToolUse</code> ä¸­ä½¿ç”¨çš„å¸¸è¦‹å·¥å…·åç¨±ï¼š</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“‹</div>
                        <h4>Task</h4>
                        <p>ä»£ç†ä»»å‹™</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’»</div>
                        <h4>Bash</h4>
                        <p>Shell å‘½ä»¤</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>Glob</h4>
                        <p>æª”æ¡ˆæ¨¡å¼åŒ¹é…</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”</div>
                        <h4>Grep</h4>
                        <p>å…§å®¹æœå°‹</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“–</div>
                        <h4>Read</h4>
                        <p>æª”æ¡ˆè®€å–</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">âœï¸</div>
                        <h4>Edit, MultiEdit</h4>
                        <p>æª”æ¡ˆç·¨è¼¯</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’¾</div>
                        <h4>Write</h4>
                        <p>æª”æ¡ˆå¯«å…¥</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸŒ</div>
                        <h4>WebFetch, WebSearch</h4>
                        <p>ç¶²è·¯æ“ä½œ</p>
                    </div>
                </div>
            </section>

            <section id="security" class="section">
                <h2><i class="fas fa-shield-alt icon"></i>å®‰å…¨è€ƒé‡</h2>
                
                <div class="warning">
                    <h4>å…è²¬è²æ˜</h4>
                    <p><strong>é¢¨éšªè‡ªè² </strong>: Claude Code Hooks æœƒåœ¨æ‚¨çš„ç³»çµ±ä¸Šè‡ªå‹•åŸ·è¡Œä»»æ„ shell å‘½ä»¤ã€‚ä½¿ç”¨ Hooks è¡¨ç¤ºæ‚¨ç¢ºèªï¼š</p>
                    <ul>
                        <li>æ‚¨å°é…ç½®çš„å‘½ä»¤æ‰¿æ“”å…¨éƒ¨è²¬ä»»</li>
                        <li>Hooks å¯ä»¥ä¿®æ”¹ã€åˆªé™¤æˆ–å­˜å–æ‚¨çš„ä½¿ç”¨è€…å¸³æˆ¶èƒ½å­˜å–çš„ä»»ä½•æª”æ¡ˆ</li>
                        <li>æƒ¡æ„æˆ–ç·¨å¯«ä¸ç•¶çš„ Hooks å¯èƒ½å°è‡´è³‡æ–™éºå¤±æˆ–ç³»çµ±æå®³</li>
                        <li>Anthropic ä¸æä¾›ä»»ä½•ä¿è­‰ï¼Œä¸¦ä¸”ä¸å° Hook ä½¿ç”¨å°è‡´çš„ä»»ä½•æå®³æ‰¿æ“”è²¬ä»»</li>
                        <li>æ‚¨æ‡‰è©²åœ¨ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨å‰ï¼Œåœ¨å®‰å…¨ç’°å¢ƒä¸­å¾¹åº•æ¸¬è©¦ Hooks</li>
                    </ul>
                    <p>åœ¨æ·»åŠ åˆ°æ‚¨çš„é…ç½®ä¹‹å‰ï¼Œè«‹å‹™å¿…å¯©æŸ¥ä¸¦ç†è§£ä»»ä½• Hook å‘½ä»¤ã€‚</p>
                </div>

                <h3>é‡è¦å®‰å…¨åŸå‰‡</h3>
                <ol>
                    <li><strong>æœ€å°æ¬Šé™åŸå‰‡</strong>: åªæˆäºˆ Hook å®Œæˆä»»å‹™æ‰€éœ€çš„æœ€å°æ¬Šé™</li>
                    <li><strong>è¼¸å…¥é©—è­‰</strong>: å§‹çµ‚é©—è­‰ä¾†è‡ª Claude çš„è¼¸å…¥è³‡æ–™</li>
                    <li><strong>é¿å…å‘½ä»¤æ³¨å…¥</strong>: å¦‚æœä½¿ç”¨ä¾†è‡ª Claude çš„è³‡æ–™å»ºæ§‹å‘½ä»¤ï¼Œè«‹æ­£ç¢ºè½‰ç¾©</li>
                    <li><strong>å®šæœŸå¯©æŸ¥</strong>: å®šæœŸæª¢æŸ¥æ‚¨çš„ Hook è¨­å®šå’ŒåŸ·è¡Œæ—¥èªŒ</li>
                    <li><strong>ä½¿ç”¨çµ•å°è·¯å¾‘</strong>: åœ¨è…³æœ¬ä¸­ç›¡é‡ä½¿ç”¨çµ•å°è·¯å¾‘æŒ‡å®šå‘½ä»¤ï¼Œé¿å… PATH è¢«åŠ«æŒ</li>
                    <li><strong>é¿é–‹æ•æ„Ÿæª”æ¡ˆ</strong>: è¨­å®šè¦å‰‡ä»¥è·³é <code>.env</code>, <code>.git/</code>, SSH é‡‘é‘°ç­‰æª”æ¡ˆ</li>
                </ol>
            </section>

            <section id="troubleshooting" class="section">
                <h2><i class="fas fa-bug icon"></i>ç–‘é›£æ’è§£</h2>

                <h3>åŸºæœ¬é™¤éŒ¯æ­¥é©Ÿ</h3>
                <p>å¦‚æœæ‚¨çš„ Hooks ç„¡æ³•æ­£å¸¸é‹ä½œï¼Œè«‹ä¾åºæª¢æŸ¥ï¼š</p>
                
                <ol>
                    <li><strong>æª¢æŸ¥é…ç½®</strong> - åŸ·è¡Œ <code>/hooks</code> æŸ¥çœ‹æ‚¨çš„ Hook æ˜¯å¦å·²è¨»å†Š</li>
                    <li><strong>é©—è­‰èªæ³•</strong> - ç¢ºä¿ JSON è¨­å®šæœ‰æ•ˆ</li>
                    <li><strong>æ¸¬è©¦å‘½ä»¤</strong> - å…ˆæ‰‹å‹•åŸ·è¡Œ Hook å‘½ä»¤</li>
                    <li><strong>æª¢æŸ¥æ¬Šé™</strong> - ç¢ºä¿è…³æœ¬æª”æ¡ˆå…·æœ‰åŸ·è¡Œæ¬Šé™</li>
                    <li><strong>æŸ¥çœ‹æ—¥èªŒ</strong> - ä½¿ç”¨ <code>claude --debug</code> æŸ¥çœ‹è©³ç´°çš„ Hook åŸ·è¡Œè³‡è¨Š</li>
                </ol>

                <h3>å•Ÿç”¨è©³ç´°æ—¥èªŒ</h3>
                <p>ä½¿ç”¨ <code>--debug</code> æ¨™èªŒå•Ÿå‹• Claude Code ä»¥æŸ¥çœ‹è©³ç´°çš„æ—¥èªŒè¼¸å‡ºï¼š</p>
                <pre><code class="language-bash">claude --debug</code></pre>
            </section>

            <section id="best-practices" class="section">
                <h2><i class="fas fa-star icon"></i>æœ€ä½³å¯¦è¸ç¸½çµ</h2>

                <h3>âœ… æ¨è–¦åšæ³•</h3>
                <ol>
                    <li><strong>å¾ç°¡å–®é–‹å§‹</strong>: å…ˆå¯¦ä½œåŸºæœ¬çš„æ—¥èªŒè¨˜éŒ„ï¼Œå†é€æ­¥åŠ å…¥è¤‡é›œåŠŸèƒ½</li>
                    <li><strong>åˆ†å±¤è¨­å®š</strong>: é€šç”¨è¦å‰‡æ”¾åœ¨ä½¿ç”¨è€…è¨­å®šï¼Œå°ˆæ¡ˆç‰¹å®šè¦å‰‡æ”¾åœ¨å°ˆæ¡ˆè¨­å®š</li>
                    <li><strong>å……åˆ†æ¸¬è©¦</strong>: åœ¨å®‰å…¨ç’°å¢ƒä¸­æ¸¬è©¦æ‰€æœ‰ Hook å†éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ</li>
                    <li><strong>è©³ç´°è¨»é‡‹</strong>: åœ¨è¨­å®šæª”ä¸­ç‚ºæ¯å€‹ Hook æ·»åŠ èªªæ˜è¨»é‡‹</li>
                    <li><strong>å®šæœŸç¶­è­·</strong>: å®šæœŸæª¢æŸ¥å’Œæ›´æ–° Hook è¨­å®šï¼Œç§»é™¤ä¸éœ€è¦çš„è¦å‰‡</li>
                </ol>

                <h3>âŒ é¿å…äº‹é …</h3>
                <ol>
                    <li><strong>éåº¦è¤‡é›œåŒ–</strong>: é¿å…åœ¨å–®ä¸€ Hook ä¸­åŒ…å«éå¤šé‚è¼¯</li>
                    <li><strong>å¿½ç•¥éŒ¯èª¤è™•ç†</strong>: ç¢ºä¿ Hook èƒ½å¤ å¦¥å–„è™•ç†ç•°å¸¸æƒ…æ³</li>
                    <li><strong>ç¡¬ç·¨ç¢¼è·¯å¾‘</strong>: ä½¿ç”¨ç›¸å°è·¯å¾‘æˆ–ç’°å¢ƒè®Šæ•¸è€Œéçµ•å°è·¯å¾‘</li>
                    <li><strong>å¿½ç•¥æ•ˆèƒ½</strong>: é¿å…åœ¨ Hook ä¸­åŸ·è¡Œè€—æ™‚æ“ä½œ</li>
                    <li><strong>ç›²ç›®ä¿¡ä»»</strong>: ä¸è¦ç„¡æ¢ä»¶ä¿¡ä»»ä¾†è‡ªå¤–éƒ¨çš„ Hook è¨­å®š</li>
                </ol>
            </section>

            <section class="section">
                <h2><i class="fas fa-rocket icon"></i>çµèª</h2>
                <p>Claude Code Hooks æ˜¯ä¸€å€‹å¼·å¤§çš„è‡ªå‹•åŒ–å·¥å…·ï¼Œèƒ½å¤ é¡¯è‘—æå‡æ‚¨çš„é–‹ç™¼æ•ˆç‡å’Œç¨‹å¼ç¢¼å“è³ªã€‚é€éåˆç†çš„è¨­å®šå’Œä½¿ç”¨ï¼Œæ‚¨å¯ä»¥ï¼š</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¯</div>
                        <h4>è‡ªå‹•åŒ–é‡è¤‡æ€§ä»»å‹™</h4>
                        <p>æ ¼å¼åŒ–ç¨‹å¼ç¢¼ã€åŸ·è¡Œæ¸¬è©¦ã€ç”¢ç”Ÿæ–‡ä»¶</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ›¡ï¸</div>
                        <h4>å¢å¼·å®‰å…¨æ€§</h4>
                        <p>é˜²æ­¢å±éšªæ“ä½œã€ä¿è­·æ•æ„Ÿæª”æ¡ˆ</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“Š</div>
                        <h4>æå‡å¯è¦‹åº¦</h4>
                        <p>è¨˜éŒ„æ“ä½œæ­·å²ã€ç›£æ§ç³»çµ±ç‹€æ…‹</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”„</div>
                        <h4>å„ªåŒ–å·¥ä½œæµç¨‹</h4>
                        <p>æ•´åˆç¾æœ‰å·¥å…·éˆã€è‡ªè¨‚é€šçŸ¥æ©Ÿåˆ¶</p>
                    </div>
                </div>

                <p>è¨˜ä½ï¼ŒHooks çš„çœŸæ­£åƒ¹å€¼åœ¨æ–¼è®“æ‚¨å°ˆæ³¨æ–¼å‰µé€ æ€§çš„å·¥ä½œï¼Œè€Œå°‡é‡è¤‡æ€§çš„ã€è¦å‰‡åŒ–çš„ä»»å‹™äº¤çµ¦è‡ªå‹•åŒ–ç³»çµ±è™•ç†ã€‚</p>
                <p>é–‹å§‹æ‚¨çš„ Claude Code Hooks ä¹‹æ—…ï¼Œè®“ AI åŠ©æ‰‹æˆç‚ºæ‚¨é–‹ç™¼åœ˜éšŠä¸­æœ€å¯é çš„æˆå“¡ï¼</p>

                <hr style="margin: 2rem 0; border: none; height: 1px; background: var(--border-color);">
                
                <h3><i class="fas fa-external-link-alt icon"></i>åƒè€ƒè³‡æº</h3>
                <ul>
                    <li><a href="https://docs.anthropic.com/zh-TW/docs/claude-code/hooks" target="_blank">Claude Code å®˜æ–¹æ–‡ä»¶</a></li>
                    <li><a href="https://stedolan.github.io/jq/tutorial/" target="_blank">jq å®˜æ–¹æ•™å­¸</a></li>
                    <li><a href="https://google.github.io/styleguide/shellguide.html" target="_blank">Shell è…³æœ¬æœ€ä½³å¯¦è¸</a></li>
                    <li><a href="https://json-schema.org/" target="_blank">JSON Schema é©—è­‰</a></li>
                </ul>
            </section>
        </main>
    </div>

    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Progress bar
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';

            // Back to top button
            const backToTop = document.getElementById('backToTop');
            if (winScroll > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        function scrollToTop() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight current section in TOC
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    const tocLink = document.querySelector(`.toc a[href="#${id}"]`);
                    
                    // Remove active class from all links
                    document.querySelectorAll('.toc a').forEach(link => {
                        link.style.fontWeight = 'normal';
                        link.style.color = 'var(--text-secondary)';
                    });
                    
                    // Add active class to current link
                    if (tocLink) {
                        tocLink.style.fontWeight = '600';
                        tocLink.style.color = 'var(--primary-color)';
                    }
                }
            });
        }, {
            rootMargin: '-100px 0px -66%',
        });

        // Observe all sections
        document.querySelectorAll('section[id]').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>